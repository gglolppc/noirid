{% extends "admin/base.html" %}
{% block title %}Questions · Admin — NOIRID{% endblock %}

{% block content %}
  <div class="flex items-end justify-between">
    <div>
      <h1 class="text-2xl font-black">Support questions</h1>
      <p class="mt-1 text-sm text-zinc-400">Total: {{ total }}</p>
    </div>
  </div>

  <div class="mt-8 space-y-4">
    {% if not questions %}
      <div class="rounded-2xl border border-white/10 bg-white/5 p-6 text-zinc-300">
        No questions yet.
      </div>
    {% endif %}
    {% for q in questions %}
      <div class="rounded-3xl border border-white/10 bg-white/5 p-6">
        <div class="flex items-start justify-between gap-4">
          <div>
            <div class="font-semibold">{{ q.customer_name }}</div>
            <div class="text-xs text-zinc-500">{{ q.customer_email }}</div>
          </div>
          <div class="text-xs text-zinc-500">{{ q.created_at }}</div>
        </div>
        {% if q.order_id %}
          <div class="mt-2 text-xs text-zinc-400">Order: {{ q.order_id }}</div>
        {% endif %}
        <div class="mt-4 text-sm text-zinc-200">{{ q.question }}</div>
      </div>
    {% endfor %}
  </div>

  {% if total_pages > 1 %}
    <div class="mt-8 flex gap-2 text-sm">
      {% for p in range(1, total_pages + 1) %}
        <a href="/admin/questions?page={{ p }}" class="px-3 py-2 rounded border border-white/10 {% if p == page %}bg-white text-zinc-950{% else %}text-zinc-300 hover:bg-white/5{% endif %}">
          {{ p }}
        </a>
      {% endfor %}
    </div>
  {% endif %}
{% endblock %}
